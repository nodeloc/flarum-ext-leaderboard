{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@nodeloc/flarum-ext-leaderboard/external assign \"flarum.extensions['ziiven-decoration-store']\"","webpack://@nodeloc/flarum-ext-leaderboard/webpack/bootstrap","webpack://@nodeloc/flarum-ext-leaderboard/webpack/runtime/compat get default export","webpack://@nodeloc/flarum-ext-leaderboard/webpack/runtime/define property getters","webpack://@nodeloc/flarum-ext-leaderboard/webpack/runtime/hasOwnProperty shorthand","webpack://@nodeloc/flarum-ext-leaderboard/webpack/runtime/make namespace object","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/extend']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['forum/app']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/UsersSearchSource']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@nodeloc/flarum-ext-leaderboard/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@nodeloc/flarum-ext-leaderboard/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@nodeloc/flarum-ext-leaderboard/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/Page']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/Select']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/Button']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/Component']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['helpers/avatar']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['helpers/username']\"","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/SmallUserCard.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/LeaderBoardUserCard.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/LeaderBoardListItem.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/LeaderBoardList.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/common/utils/SortMap.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/states/LeaderBoardState.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/CheckableButton.js","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/utils/KeyboardNavigatable']\"","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['utils/ItemList']\"","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/searchTypes/AbstractType.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/searchTypes/TextFilter.js","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/models/Group']\"","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/searchTypes/GroupFilter.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/SearchField.js","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/components/Separator']\"","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/LeaderBoardPage.js","webpack://@nodeloc/flarum-ext-leaderboard/external root \"flarum.core.compat['common/Model']\"","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/models/Text.ts","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/components/index.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/searchTypes/index.js","webpack://@nodeloc/flarum-ext-leaderboard/./src/forum/index.js"],"sourcesContent":["module.exports = flarum.extensions['ziiven-decoration-store'];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/UsersSearchSource'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SelectDropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Placeholder'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['helpers/username'];","import ItemList from 'flarum/common/utils/ItemList';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport avatar from \"flarum/helpers/avatar\";\r\nimport username from \"flarum/helpers/username\";\r\n\r\nexport default class SmallUserCard extends Component {\r\n    /**\r\n     * Allowing to add additonal items unique to the user directory.\r\n     *\r\n     * @return {ItemList<import('mithril').Children>}\r\n     */\r\n    view() {\r\n        const user = this.attrs.user;\r\n        const sort = this.attrs.params.sort;\r\n        const userProfileLink = app.route.user(user);\r\n        const points = user.attribute(sort) || '0';\r\n        const position = this.attrs.position;\r\n        let avatarWithFrame, usernameWithColor;\r\n        if('ziiven-decoration-store' in flarum.extensions){\r\n            const { components } = require('@ziiven-decoration-store');\r\n            avatarWithFrame = components.avatarWithFrame;\r\n            usernameWithColor = components.usernameWithColor;\r\n        }        // 根据 position 的值来设置类名\r\n        let positionClass = '';\r\n        if (position === 1) {\r\n            positionClass = 'first';\r\n        } else if (position === 2) {\r\n            positionClass = 'second';\r\n        } else if (position === 3) {\r\n            positionClass = 'third';\r\n        }\r\n        // 根据 sort 字段选择图标\r\n        let iconClass = 'fa-solid fa-chart-simple';\r\n        if (['money', 'lastCheckinMoney'].includes(sort)) {\r\n            iconClass = 'fa-solid fa-bolt';\r\n        } else if (sort === 'bestAnswerCount') {\r\n            iconClass = 'fa-solid fa-check-double';\r\n        } else if (['monthlyDiscussionCount', 'discussionCount'].includes(sort)) {\r\n            iconClass = 'fa-solid fa-pencil';\r\n        } else if (['monthlyCommentCount', 'commentCount'].includes(sort)) {\r\n            iconClass = 'fa-regular fa-comment';\r\n        } else if (['lotteryCount'].includes(sort)) {\r\n            iconClass = 'fa-solid fa-gift';\r\n        }\r\n        return (\r\n            <a href={userProfileLink}>\r\n                                <span className={`LeaderboardListItem-position ${positionClass}`}>\r\n          {position}\r\n        </span>\r\n                {avatarWithFrame?avatarWithFrame(user):avatar(user)}\r\n                <div className=\"LeaderboardListItem-username\">\r\n                    <div>\r\n                        {usernameWithColor?usernameWithColor(user):username(user)}\r\n                    </div>\r\n                </div>\r\n                <span\r\n                    className=\"LeaderboardListItem-count\"\r\n                    title=\"\"\r\n                    aria-label={`${points} Points`}\r\n                    data-original-title={`${points} Points`}\r\n                >\r\n                 {icon(iconClass)}\r\n                    {points}\r\n        </span>\r\n\r\n            </a>\r\n        );\r\n    }\r\n}\r\n","import ItemList from 'flarum/common/utils/ItemList';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport avatar from \"flarum/helpers/avatar\";\r\nimport username from \"flarum/helpers/username\";\r\n\r\nexport default class LeaderBoardUserCard extends Component {\r\n    /**\r\n     * Allowing to add additonal items unique to the user directory.\r\n     *\r\n     * @return {ItemList<import('mithril').Children>}\r\n     */\r\n    view() {\r\n        const user = this.attrs.user;\r\n        const sort = this.attrs.params.sort;\r\n        const userProfileLink = app.route.user(user);\r\n\r\n        const points = user.attribute(sort) || '0';\r\n        const position = this.attrs.position;\r\n\r\n        let avatarWithFrame, usernameWithColor;\r\n        if('ziiven-decoration-store' in flarum.extensions){\r\n            const { components } = require('@ziiven-decoration-store');\r\n            avatarWithFrame = components.avatarWithFrame;\r\n            usernameWithColor = components.usernameWithColor;\r\n        }\r\n        // 根据 position 的值来设置类名\r\n        let positionClass = '';\r\n        let displayPosition = position;\r\n        if (position === 1) {\r\n            positionClass = 'second';\r\n            displayPosition = 2;\r\n        } else if (position === 2) {\r\n            positionClass = 'first';\r\n            displayPosition = 1;\r\n        } else if (position === 3) {\r\n            positionClass = 'third';\r\n        }\r\n        // 根据 sort 字段选择图标\r\n        let iconClass = 'fa-solid fa-chart-simple';\r\n        if (['money', 'lastCheckinMoney'].includes(sort)) {\r\n            iconClass = 'fa-solid fa-bolt';\r\n        } else if (sort === 'bestAnswerCount') {\r\n            iconClass = 'fa-solid fa-check-double';\r\n        } else if (['monthlyDiscussionCount', 'discussionCount'].includes(sort)) {\r\n            iconClass = 'fa-solid fa-pencil';\r\n        } else if (['monthlyCommentCount', 'commentCount'].includes(sort)) {\r\n            iconClass = 'fa-regular fa-comment';\r\n        } else if (['lotteryCount'].includes(sort)) {\r\n            iconClass = 'fa-solid fa-gift';\r\n        }\r\n        return (\r\n            <a href={userProfileLink}>\r\n                {avatarWithFrame?avatarWithFrame(user):avatar(user)}\r\n                <div className=\"LeaderboardListItem-username\">\r\n                    <div>\r\n                        {usernameWithColor?usernameWithColor(user):username(user)}\r\n                    </div>\r\n                </div>\r\n                <span\r\n                    className=\"LeaderboardListItem-count\"\r\n                    title=\"\"\r\n                    aria-label={`${points} Points`}\r\n                    data-original-title={`${points} Points`}\r\n                >\r\n                 {icon(iconClass)}\r\n                 {points}\r\n                </span>\r\n                <span className={`LeaderboardListItem-position ${positionClass}`}>{displayPosition}</span>\r\n            </a>\r\n        );\r\n    }\r\n}\r\n","import Component from 'flarum/common/Component';\r\nimport UserCard from 'flarum/forum/components/UserCard';\r\nimport SmallUserCard from './SmallUserCard';\r\nimport LeaderBoardUserCard from './LeaderBoardUserCard';\r\n\r\nexport default class LeaderBoardListItem extends Component {\r\n  view(vnode) {\r\n    const { user, useSmallCards, position,params } = this.attrs;\r\n\r\n    const attributes = {\r\n      user,\r\n      position,\r\n      params,\r\n      className: `UserCard--directory${useSmallCards ? ' UserCard--small' : ''}`,\r\n      controlsButtonClassName: 'Button Button--icon Button--flat',\r\n    };\r\n\r\n    return <div className=\"LeaderboardListItem\">{position>3 ? SmallUserCard.component(attributes) : LeaderBoardUserCard.component(attributes)}</div>;\r\n  }\r\n}\r\n","import app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport Placeholder from 'flarum/common/components/Placeholder';\r\nimport LeaderBoardListItem from './LeaderBoardListItem';\r\n\r\nexport default class LeaderBoardList extends Component {\r\n    view() {\r\n        const { state } = this.attrs;\r\n        const params = state.getParams();\r\n        const useSmallCards = app.forum.attribute('leaderBoardSmallCards');\r\n        let loading;\r\n        if (state.isLoading()) {\r\n            loading = LoadingIndicator.component();\r\n        } else if (state.moreResults) {\r\n            loading = Button.component(\r\n                {\r\n                    className: 'Button',\r\n                    onclick: state.loadMore.bind(state),\r\n                },\r\n                app.translator.trans('nodeloc-leaderboard.forum.page.load_more_button')\r\n            );\r\n        }\r\n\r\n        if (state.empty()) {\r\n            const text = app.translator.trans('nodeloc-leaderboard.forum.page.empty_text');\r\n            return <div className=\"DiscussionList\">{Placeholder.component({ text })}</div>;\r\n        }\r\n\r\n        const podiumUsers = state.users.slice(0, 3);\r\n        const remainingUsers = state.users.slice(3);\r\n        // 交换前两名的位置\r\n        if (podiumUsers.length >= 2) {\r\n            [podiumUsers[0], podiumUsers[1]] = [podiumUsers[1], podiumUsers[0]];\r\n        }\r\n        return (\r\n            <div\r\n                className={\r\n                    'LeaderBoardList' +\r\n                    (state.isSearchResults() ? ' LeaderBoardList--searchResults' : '') +\r\n                    (useSmallCards ? ' LeaderBoardList--small-cards' : '')\r\n                }\r\n            >\r\n                <ul className=\"LeaderboardPodium\">\r\n                    {podiumUsers.map((user, index) => {\r\n                        return(\r\n                        <li key={user.id()} data-id={user.id()} className=\"LeaderboardPodium-item\">\r\n                            {LeaderBoardListItem.component({\r\n                                user,\r\n                                params,\r\n                                useSmallCards,\r\n                                position: index + 1,\r\n                                isPodium: true,\r\n                            })}\r\n                        </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n                <ul className=\"LeaderboardItemList\">\r\n                    {remainingUsers.map((user, index) => {\r\n                        return (<li key={user.id()} data-id={user.id()} className=\"LeaderboardItemList-item\">\r\n                            {LeaderBoardListItem.component({\r\n                                user,\r\n                                params,\r\n                                useSmallCards,\r\n                                position: index + 4,\r\n                                isPodium: false,\r\n                            })}\r\n                        </li>);\r\n                })}\r\n                </ul>\r\n                <div className=\"LeaderBoardList-loadMore\">{loading}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","/**\r\n * The sort options.\r\n * We use a class and not just a POJO/function because we want extensions to be able to extend it\r\n */\r\nexport default class SortMap {\r\n  sortMap() {\r\n    return {\r\n      money       : '-money',\r\n      lotteryCount     : '-lotteryCount',\r\n      bestAnswerCount  : '-bestAnswerCount',\r\n      lastCheckinMoney    : '-lastCheckinMoney',\r\n      monthlyDiscussionCount       : 'monthlyDiscussionCount',\r\n      monthlyCommentCount: 'monthlyCommentCount',\r\n      discussionCount   : '-discussionCount',\r\n      commentCount     : '-commentCount',\r\n    };\r\n  }\r\n}\r\n","/**\r\n * Based on Flarum's DiscussionListState\r\n */\r\nimport SortMap from '../../common/utils/SortMap';\r\n\r\nexport default class LeaderBoardState {\r\n  constructor(params = {}, app = window.app) {\r\n    this.params = params;\r\n\r\n    this.app = app;\r\n\r\n    this.users = [];\r\n\r\n    this.moreResults = false;\r\n\r\n    this.loading = false;\r\n\r\n    this.qBuilder = {};\r\n  }\r\n\r\n  requestParams() {\r\n    const params = { include: [], filter: {} };\r\n\r\n    const sortKey = this.params.sort || app.forum.attribute('leaderBoardDefaultSort');\r\n\r\n    // sort might be set to null if no sort params has been passed\r\n    params.sort = this.sortMap()[sortKey];\r\n\r\n    if (this.params.q) {\r\n      params.filter.q = this.params.q;\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  sortMap() {\r\n    return {\r\n      default: '',\r\n      ...new SortMap().sortMap(),\r\n    };\r\n  }\r\n\r\n  getParams() {\r\n    return this.params;\r\n  }\r\n\r\n  clear() {\r\n    this.users = [];\r\n    m.redraw();\r\n  }\r\n\r\n  refreshParams(newParams) {\r\n    if (!this.hasUsers() || Object.keys(newParams).some((key) => this.getParams()[key] !== newParams[key])) {\r\n      const q = '';\r\n      this.params = newParams;\r\n\r\n      if (newParams.qBuilder) {\r\n        Object.assign(this.qBuilder, newParams.qBuilder || {});\r\n        this.params.q = Object.values(this.qBuilder).join(' ').trim();\r\n      }\r\n\r\n      if (!this.params.q && q) {\r\n        this.params.q = q;\r\n      }\r\n\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  refresh() {\r\n    this.loading = true;\r\n\r\n    this.clear();\r\n\r\n    return this.loadResults().then(\r\n      (results) => {\r\n        this.users = [];\r\n        this.parseResults(results);\r\n      },\r\n      () => {\r\n        this.loading = false;\r\n        m.redraw();\r\n      }\r\n    );\r\n  }\r\n\r\n  loadResults(offset) {\r\n    const preloadedUsers = this.app.preloadedApiDocument();\r\n\r\n    if (preloadedUsers) {\r\n      return Promise.resolve(preloadedUsers);\r\n    }\r\n\r\n    const params = this.requestParams();\r\n    params.page = { offset };\r\n    params.include = params.include.join(',');\r\n\r\n    return this.app.store.find('users', params);\r\n  }\r\n\r\n  loadMore() {\r\n    this.loading = true;\r\n\r\n    this.loadResults(this.users.length).then(this.parseResults.bind(this));\r\n  }\r\n\r\n  parseResults(results) {\r\n    this.users.push(...results);\r\n\r\n    this.loading = false;\r\n    this.moreResults = !!results.payload.links && !!results.payload.links.next;\r\n\r\n    m.redraw();\r\n\r\n    return results;\r\n  }\r\n\r\n  hasUsers() {\r\n    return this.users.length > 0;\r\n  }\r\n\r\n  isLoading() {\r\n    return this.loading;\r\n  }\r\n\r\n  isSearchResults() {\r\n    return !!this.params.q;\r\n  }\r\n\r\n  empty() {\r\n    return !this.hasUsers() && !this.isLoading();\r\n  }\r\n}\r\n","import Button from 'flarum/common/components/Button';\r\nimport icon from 'flarum/common/helpers/icon';\r\n\r\nexport default class CheckableButton extends Button {\r\n  /**\r\n   * Get the template for the button's content.\r\n   *\r\n   * @return {*}\r\n   * @protected\r\n   */\r\n  getButtonContent(children) {\r\n    const prev = super.getButtonContent(children);\r\n\r\n    if (this.attrs.checked) prev.push(icon('fas fa-check', { className: 'Button-icon ButtonCheck' }));\r\n\r\n    return prev;\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/withAttr'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/KeyboardNavigatable'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/ItemList'];","/**\r\n * @abstract\r\n */\r\nexport default class AbstractType {\r\n  constructor() {\r\n    this.suggestions = [];\r\n    this.loading = false;\r\n  }\r\n\r\n  /**\r\n   * The `type` property of the Models used in suggestions and applied filters for this type\r\n   * @return {String}\r\n   */\r\n  resourceType() {\r\n    //\r\n  }\r\n\r\n  /**\r\n   * Executed when the search query changes\r\n   * The method should update this.suggestions with the new results\r\n   * If asynchronous loading is used, this.loading should be set to true during the process\r\n   * @param {String} query\r\n   */\r\n  search(query) {\r\n    //\r\n  }\r\n\r\n  /**\r\n   * Renders the \"kind\" label next to the value indicating what kind of information that result is\r\n   * Should probably just be a translated text\r\n   * @param {Model} resource\r\n   * @return {vnode}\r\n   */\r\n  renderKind(resource) {\r\n    //\r\n  }\r\n\r\n  /**\r\n   * Renders the Label containing the suggestion's value\r\n   * Should be a vdom template using the .LeaderBoardSearchLabel class or similar\r\n   * @param {Model} resource\r\n   * @return {vnode}\r\n   */\r\n  renderLabel(resource) {\r\n    //\r\n  }\r\n\r\n  /**\r\n   * Applies a filter on a params object to use in the page request\r\n   * @param {Object} params Object. Might or might not contain a `q` property or `sort` property. In the future, `filters` object might be supported\r\n   * @param {Model} resource\r\n   */\r\n  applyFilter(params, resource) {\r\n    //\r\n  }\r\n\r\n  /**\r\n   * Used to populate the search field on page load with values from the querystring\r\n   * A promise must be returned, and the UI will auto-update once the promise returns\r\n   * @param {Object} params Object with a `q` and `sort` property. `filters` might be supported in the future\r\n   * @return {Promise<Model[]>}\r\n   */\r\n  initializeFromParams(params) {\r\n    //\r\n  }\r\n}\r\n","import app from 'flarum/forum/app';\r\nimport AbstractType from './AbstractType';\r\n\r\n/* global m */\r\n\r\nexport default class TextFilter extends AbstractType {\r\n  resourceType() {\r\n    return 'nodeloc-leaderboard-text';\r\n  }\r\n\r\n  search(query) {\r\n    if (!query) {\r\n      this.suggestions = [];\r\n      return;\r\n    }\r\n\r\n    this.suggestions = [\r\n      app.store.createRecord('nodeloc-leaderboard-text', {\r\n        attributes: {\r\n          text: query,\r\n        },\r\n      }),\r\n    ];\r\n  }\r\n\r\n  renderKind() {\r\n    return app.translator.trans('nodeloc-leaderboard.forum.search.kinds.text');\r\n  }\r\n\r\n  renderLabel(resource) {\r\n    return m('.LeaderBoardSearchLabel', resource.text());\r\n  }\r\n\r\n  applyFilter(params, resource) {\r\n    params.q = params.q ? params.q + ' ' : '';\r\n    params.q += resource.text();\r\n  }\r\n\r\n  initializeFromParams(params) {\r\n    if (!params.q) {\r\n      return Promise.resolve([]);\r\n    }\r\n\r\n    return Promise.resolve(\r\n      params.q\r\n        .split(' ')\r\n        // Words with : are gambits and we will ignore them\r\n        .filter((word) => word.indexOf(':') === -1)\r\n        .map((word) =>\r\n          app.store.createRecord('nodeloc-leaderboard-text', {\r\n            attributes: {\r\n              text: word,\r\n            },\r\n          })\r\n        )\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Group'];","import app from 'flarum/forum/app';\r\nimport Group from 'flarum/common/models/Group';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport AbstractType from './AbstractType';\r\n\r\n/* global m */\r\n\r\nexport default class GroupFilter extends AbstractType {\r\n  resourceType() {\r\n    return 'groups';\r\n  }\r\n\r\n  search(query) {\r\n    this.suggestions = [];\r\n\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    query = query.toLowerCase();\r\n\r\n    app.store.all('groups').forEach((group) => {\r\n      // Do not allow Guest group as it wouldn't do anything\r\n      if (group.id() === Group.GUEST_ID) {\r\n        return;\r\n      }\r\n\r\n      if (group.nameSingular().toLowerCase().indexOf(query) !== -1 || group.namePlural().toLowerCase().indexOf(query) !== -1) {\r\n        this.suggestions.push(group);\r\n      }\r\n    });\r\n  }\r\n\r\n  renderKind() {\r\n    return app.translator.trans('nodeloc-leaderboard.forum.search.kinds.group');\r\n  }\r\n\r\n  renderLabel(group) {\r\n    return m(\r\n      '.LeaderBoardSearchLabel',\r\n      group.color()\r\n        ? {\r\n            className: 'colored',\r\n            style: {\r\n              backgroundColor: group.color(),\r\n            },\r\n          }\r\n        : {},\r\n      [group.icon() ? [icon(group.icon()), ' '] : null, group.namePlural()]\r\n    );\r\n  }\r\n\r\n  applyFilter(params, group) {\r\n    params.q = params.q ? params.q + ' ' : '';\r\n    params.q += 'group:' + group.id();\r\n  }\r\n\r\n  initializeFromParams(params) {\r\n    if (!params.q) {\r\n      return Promise.resolve([]);\r\n    }\r\n\r\n    const qWithSpacesAround = ' ' + params.q + ' ';\r\n\r\n    const groups = [];\r\n\r\n    const queryGroups = qWithSpacesAround.split(' ').filter((q) => q.startsWith('group:'));\r\n\r\n    app.store.all('groups').forEach((group) => {\r\n      queryGroups.forEach((queryGroup) => {\r\n        const groupIds = queryGroup.replace('group:', '').split(',');\r\n        if (groupIds.includes(group.id())) {\r\n          groups.push(group);\r\n        }\r\n      });\r\n    });\r\n\r\n    return Promise.resolve(groups);\r\n  }\r\n}\r\n","import app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport withAttr from 'flarum/common/utils/withAttr';\r\nimport KeyboardNavigatable from 'flarum/common/utils/KeyboardNavigatable';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport TextFilter from '../searchTypes/TextFilter';\r\nimport GroupFilter from '../searchTypes/GroupFilter';\r\n\r\nexport default class SearchField extends Component {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.searchIndex = 0;\r\n    this.navigator = new KeyboardNavigatable();\r\n    this.navigator\r\n      .when((event) => {\r\n        // Do not handle keyboard when TAB is pressed and there's nothing in field\r\n        // Without this it's impossible to TAB out of the field\r\n        return event.key !== 'Tab' || !!this.filter;\r\n      })\r\n      .onUp(() => {\r\n        if (this.searchIndex > 0) {\r\n          this.searchIndex--;\r\n          m.redraw();\r\n        }\r\n      })\r\n      .onDown(() => {\r\n        if (this.searchIndex < this.allSuggestions().length - 1) {\r\n          this.searchIndex++;\r\n          m.redraw();\r\n        }\r\n      })\r\n      .onSelect(() => {\r\n        if (this.filter) {\r\n          this.selectResult(this.allSuggestions()[this.searchIndex]);\r\n          m.redraw();\r\n        } else {\r\n          this.applyFiltering();\r\n        }\r\n      })\r\n      .onRemove(() => {\r\n        this.appliedFilters.pop();\r\n      });\r\n\r\n    this.availableFilters = this.filterTypes().toArray();\r\n    this.appliedFilters = [];\r\n\r\n    this.filter = '';\r\n    this.focused = false;\r\n\r\n    // When the page loads, initialize UI with filters from the parameters\r\n    this.availableFilters.forEach((filter) => {\r\n      filter\r\n        .initializeFromParams({\r\n          sort: m.route.param('sort'),\r\n          q: m.route.param('q'),\r\n        })\r\n        .then((resources) => {\r\n          this.appliedFilters.push(...resources);\r\n          m.redraw();\r\n        });\r\n    });\r\n  }\r\n\r\n  view() {\r\n    const suggestions = this.allSuggestions();\r\n\r\n    const loading = this.availableFilters.some((filter) => filter.loading);\r\n\r\n    return (\r\n      <div className=\"Form-group Usersearchbox\">\r\n        <label className={`LeaderBoardSearchInput FormControl ${this.focused ? 'focus' : ''}`}>\r\n          <span className=\"LeaderBoardSearchInput-selected\">\r\n            {this.appliedFilters.map((recipient, index) => (\r\n              <span\r\n                className=\"LeaderBoardSearchInput-filter\"\r\n                onclick={() => {\r\n                  this.appliedFilters.splice(index, 1);\r\n                  this.applyFiltering();\r\n                }}\r\n                title={this.searchResultKind(recipient)}\r\n              >\r\n                {this.recipientLabel(recipient)}\r\n              </span>\r\n            ))}\r\n          </span>\r\n          <input\r\n            className=\"FormControl\"\r\n            placeholder={app.translator.trans('nodeloc-leaderboard.forum.search.field.placeholder')}\r\n            value={this.filter}\r\n            oninput={withAttr('value', (value) => {\r\n              this.filter = value;\r\n              this.performNewSearch();\r\n            })}\r\n            onkeydown={this.navigator.navigate.bind(this.navigator)}\r\n            onfocus={() => {\r\n              this.focused = true;\r\n            }}\r\n            onblur={() => {\r\n              this.focused = false;\r\n            }}\r\n          />\r\n          {loading && <LoadingIndicator />}\r\n          {!!suggestions.length && (\r\n            <ul className=\"Dropdown-menu\">\r\n              {suggestions.map((result, index) => (\r\n                <li\r\n                  className={this.searchIndex === index ? 'active' : ''}\r\n                  onclick={() => {\r\n                    this.selectResult(result);\r\n                    this.applyFiltering();\r\n                  }}\r\n                >\r\n                  <button type=\"button\">\r\n                    <span className=\"LeaderBoardSearchKind\">{this.searchResultKind(result)}</span>\r\n                    {this.recipientLabel(result)}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  filterTypes() {\r\n    const items = new ItemList();\r\n\r\n    items.add('text', new TextFilter(), 10);\r\n    items.add('group', new GroupFilter(), 20);\r\n\r\n    return items;\r\n  }\r\n\r\n  filterForResource(resource) {\r\n    return this.availableFilters.find((f) => f.resourceType() === resource.data.type);\r\n  }\r\n\r\n  recipientLabel(resource) {\r\n    const filter = this.filterForResource(resource);\r\n\r\n    if (filter) {\r\n      return filter.renderLabel(resource);\r\n    }\r\n\r\n    return '[unknown]';\r\n  }\r\n\r\n  searchResultKind(resource) {\r\n    const filter = this.filterForResource(resource);\r\n\r\n    if (filter) {\r\n      return filter.renderKind(resource);\r\n    }\r\n\r\n    return '[unknown]';\r\n  }\r\n\r\n  selectResult(result) {\r\n    if (!result) {\r\n      return;\r\n    }\r\n\r\n    this.appliedFilters.push(result);\r\n    this.clearSuggestions();\r\n  }\r\n\r\n  clearSuggestions() {\r\n    this.filter = '';\r\n    this.availableFilters.forEach((filter) => {\r\n      filter.search('');\r\n    });\r\n  }\r\n\r\n  allSuggestions() {\r\n    return [].concat(...this.availableFilters.map((filter) => filter.suggestions));\r\n  }\r\n\r\n  performNewSearch() {\r\n    this.searchIndex = 0;\r\n\r\n    this.availableFilters.forEach((filter) => {\r\n      filter.search(this.filter);\r\n    });\r\n\r\n    this.attrs.state.refreshParams({ ...this.attrs.state.getParams(), qBuilder: this.qBuilder() });\r\n  }\r\n\r\n  qBuilder(params = {}) {\r\n    this.appliedFilters.forEach((resource) => {\r\n      const filter = this.filterForResource(resource);\r\n\r\n      if (filter) {\r\n        filter.applyFilter(params, resource);\r\n      } else {\r\n        console.warn('Cannot find filter class for resource', resource);\r\n      }\r\n    });\r\n    return { filter: `${this.filter} ${params.q || ''}` };\r\n  }\r\n\r\n  applyFiltering() {\r\n    const params = {\r\n      sort: m.route.param('sort'),\r\n    };\r\n\r\n    this.qBuilder(params);\r\n\r\n    m.route.set(app.route('nodeloc_leaderboard', params));\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Separator'];","import app from 'flarum/forum/app';\r\nimport Page from 'flarum/common/components/Page';\r\nimport ItemList from 'flarum/common/utils/ItemList';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport Select from 'flarum/common/components/Select';\r\nimport Button from 'flarum/common/components/Button';\r\nimport LinkButton from 'flarum/common/components/LinkButton';\r\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport extractText from 'flarum/common/utils/extractText';\r\nimport LeaderBoardList from './LeaderBoardList';\r\nimport LeaderBoardState from '../states/LeaderBoardState';\r\nimport CheckableButton from './CheckableButton';\r\nimport SearchField from './SearchField';\r\nimport Separator from 'flarum/common/components/Separator';\r\n\r\n/**\r\n * This page re-uses Flarum's IndexPage CSS classes\r\n */\r\nexport default class LeaderBoardPage extends Page {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.state = new LeaderBoardState({});\r\n    this.state.refreshParams(app.search.params());\r\n\r\n    this.bodyClass = 'User--directory';\r\n\r\n    let idSegments = [];\r\n    if (this.params().q) {\r\n      Array.from(this.params().q.matchAll(/group:([\\d,]+)/g)).forEach((match) => {\r\n        idSegments.push(match[1]);\r\n      });\r\n    }\r\n    this.enabledGroupFilters = idSegments\r\n      .join(',')\r\n      .split(',')\r\n      .filter((id) => id);\r\n\r\n    this.enabledSpecialGroupFilters = [];\r\n    if (app.initializers.has('flarum-suspend') && app.forum.attribute('hasSuspendPermission')) {\r\n      // If there is a special group filter int the params, enable it here\r\n      if (this.params()?.q?.includes('is:suspended')) {\r\n        this.enabledSpecialGroupFilters['flarum-suspend'] = 'is:suspended';\r\n      }\r\n    }\r\n\r\n    app.history.push('users', app.translator.trans('nodeloc-leaderboard.forum.header.back_to_user_directory_tooltip'));\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    app.setTitle(extractText(app.translator.trans('nodeloc-leaderboard.forum.page.nav')));\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className=\"IndexPage\">\r\n        {IndexPage.prototype.hero()}\r\n        <div className=\"container\">\r\n          <div className=\"sideNavContainer\">\r\n            <nav className=\"IndexPage-nav sideNav\">\r\n              <ul>{listItems(this.sidebarItems().toArray())}</ul>\r\n            </nav>\r\n            <div className=\"IndexPage-results sideNavOffset\">\r\n              <div className=\"IndexPage-toolbar\">\r\n                <ul className=\"IndexPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\r\n                <ul className=\"IndexPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\r\n              </div>\r\n              <LeaderBoardList state={this.state} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Our own sidebar. Re-uses Index.sidebarItems as the base\r\n   * Elements added here will only show up on the user directory page\r\n   *\r\n   * @return {ItemList}\r\n   */\r\n  sidebarItems() {\r\n    const items = IndexPage.prototype.sidebarItems();\r\n\r\n    items.setContent(\r\n      'nav',\r\n      SelectDropdown.component(\r\n        {\r\n          buttonClassName: 'Button',\r\n          className: 'App-titleControl',\r\n        },\r\n        this.navItems().toArray()\r\n      )\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Our own sidebar navigation. Re-uses Index.navItems as the base\r\n   * Elements added here will only show up on the user directory page\r\n   *\r\n   * @return {ItemList}\r\n   */\r\n  navItems() {\r\n    const items = IndexPage.prototype.navItems();\r\n    const params = this.stickyParams();\r\n\r\n    items.add(\r\n      'nodeloc-leaderboard',\r\n      LinkButton.component(\r\n        {\r\n          href: app.route('nodeloc_leaderboard', params),\r\n          icon: 'far fa-address-book',\r\n        },\r\n        app.translator.trans('nodeloc-leaderboard.forum.page.nav')\r\n      ),\r\n      85\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  viewItems() {\r\n    const items = new ItemList();\r\n    const sortMap = this.state.sortMap();\r\n\r\n    const sortOptions = {};\r\n    for (const i in sortMap) {\r\n      sortOptions[i] = app.translator.trans('nodeloc-leaderboard.lib.sort.' + i);\r\n    }\r\n\r\n    items.add(\r\n      'sort',\r\n      Select.component({\r\n        options: sortOptions,\r\n        value: this.state.getParams().sort || app.forum.attribute('leaderBoardDefaultSort'),\r\n        onchange: this.changeParams.bind(this),\r\n      }),\r\n      100\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  actionItems() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      'refresh',\r\n      Button.component({\r\n        title: app.translator.trans('nodeloc-leaderboard.forum.page.refresh_tooltip'),\r\n        icon: 'fas fa-sync',\r\n        className: 'Button Button--icon',\r\n        onclick: () => {\r\n          this.state.refresh();\r\n          if (app.session.user) {\r\n            app.store.find('users', app.session.user.id());\r\n            m.redraw();\r\n          }\r\n        },\r\n      })\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Redirect to the index page using the given sort parameter.\r\n   *\r\n   * @param {String} sort\r\n   */\r\n  changeParams(sort) {\r\n    const params = this.params();\r\n\r\n    if (sort === app.forum.attribute('leaderBoardDefaultSort')) {\r\n      delete params.sort;\r\n    } else {\r\n      params.sort = sort;\r\n    }\r\n\r\n    this.state.refreshParams(params);\r\n\r\n    const routeParams = { ...params };\r\n    delete routeParams.qBuilder;\r\n\r\n    m.route.set(app.route('nodeloc_leaderboard', routeParams));\r\n  }\r\n\r\n  stickyParams() {\r\n    return {\r\n      sort: m.route.param('sort'),\r\n      q: m.route.param('q'),\r\n    };\r\n  }\r\n\r\n  params() {\r\n    return this.stickyParams();\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\r\n\r\n/**\r\n * Special model used only client-side to hold a free text search value in the search field\r\n */\r\nexport default class Text extends Model {\r\n  text = Model.attribute('text');\r\n}\r\n","import CheckableButton from './CheckableButton';\r\nimport SearchField from './SearchField';\r\nimport SmallUserCard from './SmallUserCard';\r\nimport LeaderBoardList from './LeaderBoardList';\r\nimport LeaderBoardListItem from './LeaderBoardListItem';\r\nimport LeaderBoardPage from './LeaderBoardPage';\r\nimport LeaderBoardUserCard from './LeaderBoardUserCard';\r\n\r\nexport const components = {\r\n  CheckableButton,\r\n  SearchField,\r\n  SmallUserCard,\r\n  LeaderBoardList,\r\n  LeaderBoardListItem,\r\n  LeaderBoardPage,\r\n  LeaderBoardUserCard,\r\n};\r\n","import AbstractType from './AbstractType';\r\nimport GroupFilter from './GroupFilter';\r\nimport TextFilter from './TextFilter';\r\n\r\nexport const searchTypes = {\r\n  AbstractType,\r\n  GroupFilter,\r\n  TextFilter,\r\n};\r\n","import { extend } from 'flarum/common/extend';\r\nimport app from 'flarum/forum/app';\r\nimport UsersSearchSource from 'flarum/common/components/UsersSearchSource';\r\nimport LinkButton from 'flarum/common/components/LinkButton';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport CommentPost from 'flarum/forum/components/CommentPost';\r\nimport LeaderBoardPage from './components/LeaderBoardPage';\r\nimport LeaderBoardList from './components/LeaderBoardList';\r\nimport LeaderBoardListItem from './components/LeaderBoardListItem';\r\nimport LeaderBoardState from './states/LeaderBoardState';\r\nimport SortMap from '../common/utils/SortMap';\r\nimport CheckableButton from './components/CheckableButton';\r\nimport Text from './models/Text';\r\n\r\n// Allow other extensions to extend the page\r\nexport { LeaderBoardPage, LeaderBoardList, LeaderBoardListItem, LeaderBoardState, SortMap, CheckableButton };\r\n\r\nexport const linkGroupMentions = function () {\r\n  if (app.forum.attribute('canSeeLeaderBoardLink') && app.forum.attribute('leaderBoardLinkGroupMentions')) {\r\n    this.$('.GroupMention').each(function () {\r\n      if ($(this).hasClass('GroupMention--linked')) return;\r\n\r\n      const name = $(this).find('.GroupMention-name').text();\r\n      const group = app.store.getBy('groups', 'namePlural', name.slice(1));\r\n\r\n      if (group) {\r\n        const link = $(`<a class=\"GroupMention-link\" href=\"${app.route('nodeloc_leaderboard', { q: `group:${group.id()}` })}\"></a>`);\r\n\r\n        link.on('click', function (e) {\r\n          m.route.set(this.getAttribute('href'));\r\n          e.preventDefault();\r\n        });\r\n\r\n        $(this).addClass('GroupMention--linked').wrap(link);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\napp.initializers.add('nodeloc-leaderboard', (app) => {\r\n  app.routes.nodeloc_leaderboard = {\r\n    path: '/leaderboard',\r\n    component: LeaderBoardPage,\r\n  };\r\n\r\n  app.store.models['nodeloc-leaderboard-text'] = Text;\r\n\r\n  extend(UsersSearchSource.prototype, 'view', function (view, query) {\r\n    if (!view || !app.forum.attribute('canSeeLeaderBoardLink') || app.forum.attribute('leaderBoardDisableGlobalSearchSource')) {\r\n      return;\r\n    }\r\n\r\n    query = query.toLowerCase();\r\n\r\n    view.splice(\r\n      1,\r\n      0,\r\n      m(\r\n        'li',\r\n        LinkButton.component(\r\n          {\r\n            href: app.route('nodeloc_leaderboard', { q: query }),\r\n            icon: 'fas fa-search',\r\n          },\r\n          app.translator.trans('nodeloc-leaderboard.forum.search.users_heading', { query })\r\n        )\r\n      )\r\n    );\r\n  });\r\n\r\n  extend(IndexPage.prototype, 'navItems', (items) => {\r\n    if (app.forum.attribute('canSeeLeaderBoardLink') && app.forum.attribute('canSearchUsers')) {\r\n      items.add(\r\n        'nodeloc-leaderboard',\r\n        LinkButton.component(\r\n          {\r\n            href: app.route('nodeloc_leaderboard'),\r\n            icon: 'far fa-address-book',\r\n          },\r\n          app.translator.trans('nodeloc-leaderboard.forum.page.nav')\r\n        ),\r\n        85\r\n      );\r\n    }\r\n  });\r\n\r\n  extend(CommentPost.prototype, 'oncreate', linkGroupMentions);\r\n  extend(CommentPost.prototype, 'onupdate', linkGroupMentions);\r\n});\r\n\r\nexport * from './components';\r\nexport * from './searchTypes';\r\n"],"names":["module","exports","flarum","extensions","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","core","compat","_extends","assign","bind","e","arguments","length","t","apply","_setPrototypeOf","setPrototypeOf","__proto__","_inheritsLoose","create","constructor","SmallUserCard","_Component","view","avatarWithFrame","usernameWithColor","user","this","attrs","sort","params","userProfileLink","app","points","attribute","position","components","require","positionClass","iconClass","includes","m","href","className","avatar","username","title","icon","Component","LeaderBoardUserCard","displayPosition","LeaderBoardListItem","vnode","_this$attrs","useSmallCards","attributes","controlsButtonClassName","component","LeaderBoardList","loading","state","getParams","isLoading","LoadingIndicator","moreResults","Button","onclick","loadMore","trans","empty","text","Placeholder","podiumUsers","users","slice","remainingUsers","_ref","isSearchResults","map","index","id","isPodium","SortMap","sortMap","money","lotteryCount","bestAnswerCount","lastCheckinMoney","monthlyDiscussionCount","monthlyCommentCount","discussionCount","commentCount","LeaderBoardState","window","qBuilder","_proto","requestParams","include","filter","sortKey","forum","q","default","clear","redraw","refreshParams","newParams","_this","hasUsers","keys","some","values","join","trim","refresh","_this2","loadResults","then","results","parseResults","offset","preloadedUsers","preloadedApiDocument","Promise","resolve","page","store","find","_this$users","push","payload","links","next","CheckableButton","_Button","getButtonContent","children","prev","checked","AbstractType","suggestions","resourceType","search","query","renderKind","resource","renderLabel","applyFilter","initializeFromParams","TextFilter","_AbstractType","createRecord","split","word","indexOf","GroupFilter","toLowerCase","all","forEach","group","Group","nameSingular","namePlural","color","style","backgroundColor","qWithSpacesAround","groups","queryGroups","startsWith","queryGroup","replace","SearchField","oninit","searchIndex","navigator","KeyboardNavigatable","when","event","onUp","onDown","allSuggestions","onSelect","selectResult","applyFiltering","onRemove","appliedFilters","pop","availableFilters","filterTypes","toArray","focused","route","param","resources","_this$appliedFilters","recipient","splice","searchResultKind","recipientLabel","placeholder","oninput","withAttr","performNewSearch","onkeydown","navigate","onfocus","onblur","result","type","items","ItemList","add","filterForResource","f","data","clearSuggestions","concat","_this3","_this4","console","warn","set","LeaderBoardPage","_Page","bodyClass","_this$params","idSegments","Array","from","matchAll","match","enabledGroupFilters","enabledSpecialGroupFilters","has","oncreate","extractText","IndexPage","hero","listItems","sidebarItems","viewItems","actionItems","setContent","SelectDropdown","buttonClassName","navItems","stickyParams","LinkButton","sortOptions","i","Select","options","onchange","changeParams","routeParams","Page","Text","_Model","_len","args","_key","Model","searchTypes","linkGroupMentions","$","each","hasClass","name","getBy","link","on","getAttribute","preventDefault","addClass","wrap","routes","nodeloc_leaderboard","path","models","extend","UsersSearchSource","translator","CommentPost"],"sourceRoot":""}